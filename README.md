# Bitrix список избранного

---

Работает аналогично со списком сравнения стандартного битрикса. Вся логика похожа на стандартную без приколов в init.php. \
Сердечки у избранных товаров при выводе списка товаров ставит автоматически \
При нажатии сердечка работает коректно `не инкрементирует счетчик в каунтере, а считает имено количество товаров в вишлисте` \
\
Работает в двух режимах:
0. Если пользоваетль не авторизован, то товары сохраняются в сессии
1. Если пользователь авторизован, то сохраняет товары в корзине в разделе отложенное `(при выводе корзины лучше выводить не отложенные товары)`

---

## О структуре
0. `/index.php` - пример использования `catalog.section` без каталога 
1. `/local/templates/markopool/header.php` - использование `affetta:wishlist` для вывода каунтера
2. `/catalog/index.php` - пример использования `catalog` с вишлистом
3. `/local/templates/markopool/components/bitrix/catalog.item/...` `/local/templates/markopool/components/bitrix/catalog.section/...` `/local/templates/markopool/components/bitrix/catalog/...` - в компонентах находятся дополниные переменные для правильной работы вишлиста (формирование путей для отправки ajax, типы экшенов)
4. `/favorites/index.php` - список избранного
